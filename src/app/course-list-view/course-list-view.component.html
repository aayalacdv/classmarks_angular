<mat-accordion *ngFor="let course of courses; let i = index">
  <mat-expansion-panel (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false">
    <mat-expansion-panel-header >
      <mat-panel-title>
        {{ course.name }}
      </mat-panel-title>
      <mat-panel-description >
        <h3>
          Currently  {{ course.pecentageLeft }} % of the course left
        </h3>

     </mat-panel-description>

    </mat-expansion-panel-header>

    <app-course-details
        [course]="course"
        [index]="i">
    </app-course-details>

  </mat-expansion-panel>
</mat-accordion>

<div class="d-grid gap-2 mt-5" >
  <button class="btn btn-outline-dark" type="button" (click)="courseForm=true">Add Course</button>
</div>

<form *ngIf="courseForm" [formGroup]="courseFormulary" class="mt-3" (ngSubmit)="addCourse()">
  <div class="mb-3">
    <label for="exam-name" class="form-label">Name</label>
    <input type="text" class="form-control" formControlName= "name" >
    <div class="text-danger" *ngIf="courseFormulary.controls.name.invalid && courseFormulary.controls.name.touched"> Name is required</div>
  </div>
  <div class="d-grid gap-2 " >
   <button class="btn btn-outline-dark" type="submit" [disabled]="!courseFormulary.valid">Add</button>
  </div>
</form>
